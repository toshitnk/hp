<html>
	<head>
		<title>advent2021-05</title>
		<link rel="stylesheet" href="./../../base.css">
		<meta charset="utf-8">
		<script type="text/javascript" async
				src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
		</script>
	</head>

	<body>
		<h1>Windowsを破壊した話</h1>
		<p>
			この記事は
			<a href="https://adventar.org/calendars/6268">統合ゼミコミュニティーアドベントカレンダー2021</a>
			の5日目の記事です．
		</p>
		<p>
			2021/08/10にWindowsのlaptop PCをこわして
			Linux(Ubuntu)を入れたことを振り返ろうと思う．
		</p>
		<h2>動機</h2>
		<p>
			今年に入って，実験の解析やプロットをpythonでやるようになって，
			PCやプログラミングに触れたり調べたりすることが増えた．

			それと同時期に統合に情報系の人が増え始めて，話したり質問したりする
			うちに情報系のことにも興味を持ち始めた．

			ちょうどその頃世間ではWindows11が発表され，人々のPCが勝手に
			バージョンアップをはじめてしまい使えないことになっていることが
			散見されるなど，いろいろ勝手にやってしまうWindowsに対して悪い印象を
			受け始めた．
		</p>
		<p>
			大学の先生にimplicitに相談したところ，今あるWindows環境は
			残しておいたほうが良いと言われたが，Windowsの悪い情報の入手，
			PCを勉強したい気持ち，質問できる環境，そして自分の逆張りをしがちな
			性格が合わさり，ついにWindowsを破壊してLinuxに乗り換えることになった．
		</p>

		<p>
			ところで，Windowsを完全に破壊する以外にも仮想環境を使う方法や
			WSLを使う方法があったのだが，前者に関してはCPUをフルに使いたい
			気持ちから，後者に関してはWindowsという名前が入っていること自体に
			不満があったから私の選択肢からは消えた．
		</p>
		<h2>方法</h2>
		<p>
			基本的にインターネットで調べながらやればできると思う．日本語でも文献がたくさんあるし，詳しくもないので大雑把な流れの参考と思ってほしい．
		</p>

		<h3>環境</h3>

		<ul>
			<li>surface laptop 2</li>
		</ul>

		<h3>必要になったもの</h3>

		<ul>
			<li>USB2つ</li>
			<li>外付けのキーボード</li>
			<li>(有識者)</li>
		</ul>


		<h3>作業の概要</h3>

		<ol>
			<li>
				英語弱者なので，
				<a href="https://www.ubuntulinux.jp/products/JA-Localized/download">Ubuntu日本語版のダウンロードページ</a>
				からisoイメージをダウンロード．あとから思うと，日本語版はディレクトリ名とか余計なところまで日本語になっていし，結局コマンドは英語なので，日本語版にしないほうが良かったかも．
			</li>

			<li>
				不要なUSBを用意して，上のisoからUbuntuを起動するためのライブUSBを作る．
			<a href="https://rufus.ie/ja/">rufus</a>
			というものを使った．もちろん，windowsをこわしたらwindows側のデータも消えるので，データを移すためのUSBと合わせて2つUSBがいることになる．
			</li>

			<li>
				ライブUSBを作ったら，一旦シャットダウンして，ライブUSBを挿して再度立ち上げるとUbuntuが起動する．
			</li>

			<li>
				それでインターネットの情報や，画面の指示に従いいろいろ進めるとwindowsが壊れてubuntuが入る．
			</li>

			<p>
				ここからが非常に困難だったことで，PCがsurfaceだった場合によくキーボードが効かなくなるようである．故に，surfaceでubuntuを入れる場合は以下の操作をするまでの間，外付けのキーボードが必要である．
				キーボードが効かない問題を解決するのに，統合のてのぺのさんやmilliに非常にお世話になったことをここで改めて感謝したい．
			</p>

			<li>
				<a href="https://github.com/linux-surface/linux-surface/wiki/Installation-and-Setup#Debian--Ubuntu">linux-surface</a>
				をここに書いてあるとおりにインストールする．
			</li>

			<li>
				再起動して，UEFIからsecure bootを無効にする．この操作をしていなかったことが原因だった．
			</li>

			<li>
				"surface"の文字を含むカーネルから起動する．
			</li>

			<p>
				これで最低限設定ができた．あとは壁紙をいじったり，dockを真ん中に寄せたり．
			</p>
		</ol>
		<figure style="text-align: center"><img src="./img/desktop.png" width=300><figcaption>デスクトップはこんな感じで綺麗で感動．</figcaption></figure>
		<h2>その後</h2>
		<p>
			結論からいうと，非常に快適である．GUIに関してはWindowsより不便に感じることはないし，自分でいろいろできるのが性にあっている．
			vimrcとかbashrcとかをいじって，テキストエディタやターミナルを自分好みにできるのは楽しい．

			『あたらしいLinuxの教科書』を買って，夏休みは前から順番に読み勧めてコマンドラインの操作も覚えた．
		</p>
		<p>
			また，個人的に非常に嬉しいことが，LaTeXのコンパイルが非常に早くなった点である．図をたくさん使った文書も一瞬でコンパイルされてびっくりした記憶がある．
		</p>
		<h3>現在の環境</h3>
		<ul>
			<li>OS</li>
			<ul>
				<li>Ubuntu 20.04.3 LTS</li>
			</ul>
			<li>テキストエディタ</li>
			<ul>
				<li>vim</li>
				<p>
					linuxには必ずついているテキストエディタで，カーソルを移動させたりするnomalモードやテキストを編集するinsertモードなど複数モードがあって，最初は終了の仕方すらわからない若干クセのあるエディタだが，自分の好きなように「育て」られるのが魅力．プラグインもたくさんあって，プログラミング言語の補完や，syntax highlight今ではmarkdown以外はvimで書いている．
				</p>
				<p>
					統合にもたくさんvimmerがいて，プラグインを管理するプラグイン
					<a href="https://github.com/Shougo/dein.vim">dein</a>
					や，ある程度メジャーな言語の補完とかをしてくれる
					<a href="https://github.com/neoclide/coc.nvim">coc</a>
					は必須と教えてくれて，入れてみた．cocはnode.jsを入れることが必要らしい．
					私の現在の
					<a href="https://gist.github.com/toshitnk/779880347eb3c8a80ecf06a3fd3c2752">vimrc</a>
					はこんな感じ．
				</p>
				<li>VS code</li>
				<p>
					逆張りオタクなので，vimを使っている私だが，markdownでスライドを作るときだけは
					<a href="https://github.com/marp-team/marp-vscode">marp for vscode</a>
					が便利すぎてvscodeを手放せない．TeXもvscodeでやると便利だけど，逆張りオタクはvimで書いて，latexmkで毎回コンパイルしている．
				</p>
			</ul>
			<li>プログラミング言語</li>
			<ul>
				<li>python</li>
				<p>
					遅いと言われるけど，実験の解析をする程度では，特に気にならない．簡単に書けるのが魅力．
				</p>
				<p>
					matplotlibは綺麗で描画は一番好き．最近知ったのはmatplotlibrcというのがあって，デフォルトのデザインを設定できること．目盛りを内向けるのとか，字の大きさとかを予め設定しておける．
					<a href="https://github.com/marp-team/marp-vscode">ここ</a>
					に公式からやり方が載っている．
				</p>
				<p>
					それから，授業で使っているので，勉強しなければいけない．
				</p>
				<li>Julia</li>
				<p>
					一番興味のある言語．最近本も買ったので，勉強したい．
				</p>
				<li>C++</li>
				<p>
					なぜか，最近AtCoderのコンテストに出ていて，C++を使っている．理由はPythonしかやったことがないときに，コンパイルする言語を触ってみたいと思ったからと，同じくAtCoderに用意されている
					<a href="https://atcoder.jp/contests/apg4b">APG4B</a>
					で練習したからである．
				</p>
				<li>C</li>
				<p>
					「C++をやるならCもやればいいじゃない」ということで，ほんの少しやった気がする．全部忘れた．
				</p>
				<p>
					Ubuntuに最初からC, C++のコンパイラが入っていたのは良かった．Windowsだと環境構築が大変と聞く．
				</p>
				<li>Fortran</li>
				<p>
					これも，Ubuntuに最初からコンパイラが入っていた．Hello Worldしかしたことないが，第四クォーターからFortranの講義が始まるらしい．
				</p>
				<li>html</li>
				<p>
					これを書いているやつ．
					GitHub Pagesで自分のページを作ってみている．
				</p>
				<li>tex</li>
				<p>
					レポートとかを書くにはこれを使っている．
					最近ようやくvscodeからvimにのりかえた(とくに意味はないが．)．おなじく最近bibtexの使い方もわかったりと，tex言語は難しいが，使う分にはだいぶできるようになってきた．
				</p>
			</ul>
			<li>csv reader</li>
			<ul>
				<li><a href="https://www.plus-one.tech/csv-plus/">csv-plus</a></li>
				<p>
					エクセルみたいにcsvに書き込んだりできるが，編集以外はできないとてもシンプルなcsvエディタ．実験の解析は，これでcsvを編集して，pythonで計算をする，というようにしている．
				</p>
			</ul>
			<li>スライド</li>
			<ul>
				<li>
					<a href=""https://marp.app/>marp</a>
				</li>
				<p>
					markdownで書いたスライドを，pdfなどに変換してくれるツール．詳しくは
					<a href="https://toshitnk.github.io/hp/misc/doc/advent21_1.pdf">アドベントカレンダー2日目の記事</a>
					(pdf)．
				</p>
				<li>beamer</li>
				<p>
					TeXのスライドをつくるためのクラス．
					こちらのほうが数式が綺麗な気がするので，私はこちらをよく使う．themeはMadridがシンプルで好き．
				</p>
			</ul>
			<li>ブラウザ</li>
			<ul>
				<li>firefox</li>
				<p>
					最初から入っていたので．きつねさんこやーん．
				</p>
				<li>chrome</li>
				<p>
					marpで変換するときに必要だったので．
				</p>
			</ul>
		</ul>

		<p>
			最後の方は適当感が否めないが，Linuxに変えて，こんな感じの環境で快適に作業ができている．質問やアドバイスなどがある方はぜひ
			<a href="https://github.com/toshitnk/hp/discussions/2">Discussions</a>
			まで．
		</p>
		<hr>
		

	</body>
</html>

